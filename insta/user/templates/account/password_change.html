{% extends "user_base/base_with_header.html" %}

{% load widget_tweaks %}

{% block title %}비밀번호 변경 | Sparkling Coffee Club{% endblock title %}

{% block content %}

<style>
  #nav_div {
    list-style: none;
    height: 60px;
  }

  #nav_div:hover {
    background-color: #eeeeee;
    border-left: solid 3px;
  }

  #nav_a {
    font-size: 18px;
    padding-left: 20px;
    display: block;
    line-height: 60px;
  }

  #nav_a:hover {
    text-decoration: none;
  }

  #side-navbar {
    width: 220px;
    height: 100%;
    float: left;
  }
</style>


<div style="
  width: 950px;
  height: 100%;
  margin: 100px auto;
  background-color: #fff;
  border: 1px solid #e6e6e6;
  margin-bottom: 30px;">


  <!-- side Nav bar -->
  <div id="side-navbar">
    <div class="menu" style="margin-top: 40px">
      <div id="nav_div"><a id="nav_a" href="{% url 'profile-update' %}">프로필 편집</a></div>
      <div id="nav_div"><a id="nav_a" href="{% url 'account_change_password' %}">비밀번호 변경</a></div>
      <div id="nav_div"><a id="nav_a" href="#">계정 비활성화</a></div>
    </div>
  </div>

  <main style="
    border-radius: 6px;
    margin: 0px 0px 0px 100px;
    padding: 30px 150px;
    width: 100%;">


    <!-- Profile img & name -->
    <div class="title" style="width: 100%;height: 70px; padding-left: 120px;float: left;">
      <div class="profile-pic cp-avatar large"
        style="background-image: url('{{ user.profile_image.url }}'); width:40px; height:40px;float: left;"></div>
      <div style="font-size: 25px;float: left;padding-left: 20px;">{{user.username}}</div>
    </div>

    <!-- contents -->
    <div>
      <form method="post">{% csrf_token %}
        <div style="width: 150px; height:50px;float: left;">
          <p style="font-size: 17px; text-align: right;">이전 비밀번호</p>
        </div>

        <div style="width: 75%; float: left;padding-left:30px">
          <div style="width:450px; height:50px;">
            {{ form.oldpassword|add_class:"form-control"|attr:"placeholder:이전 비밀번호"|add_error_class:"error"}}
            {% for error in form.oldpassword.errors %}
            <div class="error-message">{{ error }}</div>
            {% endfor %}
          </div>
        </div>

        <div style="width: 150px; height:50px; float: left;">
          <p style="font-size: 17px; text-align: right;">새 비밀번호</p>
        </div>

        <div style="width: 75%; float: left;padding-left:30px">
          <div style="width:450px; height:50px;">
            {{ form.password1 |add_class:"form-control"|attr:"placeholder:새 비밀번호"|add_error_class:"error" }}
            {% for error in form.password1.errors %}
            <div class="error-message">{{ error }}</div>
            {% endfor %}
          </div>
        </div>

        <div style="width: 150px; height:50px; float: left;">
          <p style="font-size: 17px; text-align: right;">새 비밀번호 확인</p>
        </div>

        <div style="width: 75%; float: left;padding-left:30px">
          <div style="width:450px; height:50px;">
            {{ form.password2 |add_class:"form-control" |attr:"placeholder:새 비밀번호 확인"|add_error_class:"error" }}
            {% for error in form.password2.errors %}
            <div class="error-message">{{ error }}</div>
            {% endfor %}
          </div>
        </div>


        <div style="width: 100%;min-width: 500px; height: 200px; float: left;padding: 20px 0px 0px 180px">
          <div>
            <button type="submit" class="btn btn-primary"
              style="margin-bottom:20px;background-color:rgb(0, 149, 247);">비밀번호 변경</button>
            <br>
          </div>
          <a href="{% url 'account_reset_password' %}" style="text-decoration : none;color:rgb(0, 149, 247)">비밀번호를
            잊으셨나요?</a>
        </div>
      </form>

    </div>
</div>
</main>

</div>

{% endblock content %}